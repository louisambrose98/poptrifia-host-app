"use client";
import { useMemo, useState } from "react";
import QuestionPanel from "./QuestionPanel";
import QuestionTable from "./QuestionTable";

const QUESTION_DATA = [
  {
    id: "dfadda32-9aa2-4f1d-84c2-e6d7116cdca2",
    position: 5,
    question: "What type of vehicle is a skateboard?",
    picture: null,
    options: ["Car", "Boat", "Helicopter"],
    answer: "Non-motorized board",
    timer: 10,
    score: 1,
    coins: 3,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "EASY",
    lastUsed: "2024-08-13T15:44:17.876Z",
    modePosition: "TRANSPORTATION_EASY_MCQ",
    modeLastUsed: "TRANSPORTATION_EASY_MCQ",
    createdAt: "2025-05-31T18:38:25.431Z",
    updatedAt: "2025-05-31T18:38:25.431Z",
    __typename: "Question",
  },
  {
    id: "f8a848ff-19bf-459f-bbcd-dd392e2fc835",
    position: 4,
    question: "What is commonly used for space travel?",
    picture: null,
    options: ["Helicopter", "Bicycle", "Submarine"],
    answer: "Spacecraft",
    timer: 10,
    score: 1,
    coins: 3,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "EASY",
    lastUsed: "2024-11-08T03:07:50.984Z",
    modePosition: "TRANSPORTATION_EASY_MCQ",
    modeLastUsed: "TRANSPORTATION_EASY_MCQ",
    createdAt: "2025-05-31T18:38:25.166Z",
    updatedAt: "2025-05-31T18:38:25.166Z",
    __typename: "Question",
  },
  {
    id: "0c471610-efb5-430f-bb0e-afee20b83aab",
    position: 3,
    question: "What is the primary function of a traffic light?",
    picture: null,
    options: ["Illuminate streets", "Measure speed", "Collect tolls"],
    answer: "Control vehicle flow",
    timer: 10,
    score: 1,
    coins: 3,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "EASY",
    lastUsed: "2025-04-01T23:16:33.213Z",
    modePosition: "TRANSPORTATION_EASY_MCQ",
    modeLastUsed: "TRANSPORTATION_EASY_MCQ",
    createdAt: "2025-05-31T18:38:24.908Z",
    updatedAt: "2025-05-31T18:38:24.908Z",
    __typename: "Question",
  },
  {
    id: "cd7db2be-aaaa-4012-8265-ae61c3d14936",
    position: 2,
    question: "What is the primary purpose of a bridge?",
    picture: null,
    options: ["For decoration", "To generate power", "To store water"],
    answer: "To cross obstacles",
    timer: 10,
    score: 1,
    coins: 3,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "EASY",
    lastUsed: "2025-06-13T20:55:05.987Z",
    modePosition: "TRANSPORTATION_EASY_MCQ",
    modeLastUsed: "TRANSPORTATION_EASY_MCQ",
    createdAt: "2025-05-31T18:38:24.659Z",
    updatedAt: "2025-06-25T23:50:29.297Z",
    __typename: "Question",
  },
  {
    id: "51028b12-5550-44c5-afce-e488e223f8a2",
    position: 1,
    question: "What form of transportation floats in the sky?",
    picture: null,
    options: ["Submarine", "Bicycle", "Motorcycle"],
    answer: "Hot air balloon",
    timer: 10,
    score: 1,
    coins: 3,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "EASY",
    lastUsed: "2025-04-13T15:56:11.328Z",
    modePosition: "TRANSPORTATION_EASY_MCQ",
    modeLastUsed: "TRANSPORTATION_EASY_MCQ",
    createdAt: "2025-05-31T18:38:24.396Z",
    updatedAt: "2025-05-31T18:38:24.396Z",
    __typename: "Question",
  },
  {
    id: "b18fe15d-c325-43a0-9256-f73b9d20ea03",
    position: 2,
    question:
      "In 'The Wire,' what is the name of Omar's lover who gets killed in season one?",
    picture: null,
    options: ["Wallace", "D'Angelo Barksdale", "Stringer Bell"],
    answer: "Brandon Wright",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TELEVISION",
    difficulty: "HARD",
    lastUsed: "2024-09-18T08:35:54.629Z",
    modePosition: "TELEVISION_HARD_MCQ",
    modeLastUsed: "TELEVISION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:24.161Z",
    updatedAt: "2025-05-31T18:38:24.161Z",
    __typename: "Question",
  },
  {
    id: "f31832f8-9caf-44fc-8f28-4f0ebb16aa1c",
    position: 1,
    question:
      "Who is the main villain in Season 2 of 'Buffy the Vampire Slayer'?",
    picture: null,
    options: ["The Master", "Spike", "Drusilla"],
    answer: "Angelus",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TELEVISION",
    difficulty: "HARD",
    lastUsed: "2025-03-22T19:24:46.985Z",
    modePosition: "TELEVISION_HARD_MCQ",
    modeLastUsed: "TELEVISION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:23.940Z",
    updatedAt: "2025-05-31T18:38:23.940Z",
    __typename: "Question",
  },
  {
    id: "a358d75d-167c-420b-a7a4-2ce808934707",
    position: 5,
    question: "What is the profession of Dr. House?",
    picture: null,
    options: ["Lawyer", "Detective", "Dentist"],
    answer: "Physician",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TELEVISION",
    difficulty: "MEDIUM",
    lastUsed: "2024-08-08T01:19:16.173Z",
    modePosition: "TELEVISION_MEDIUM_MCQ",
    modeLastUsed: "TELEVISION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:23.681Z",
    updatedAt: "2025-05-31T18:38:23.681Z",
    __typename: "Question",
  },
  {
    id: "8cd73c3a-3281-461d-aa98-67468b076047",
    position: 4,
    question: "Who is the main character in 'Mad Men'?",
    picture: null,
    options: ["Tony Soprano", "Walter White", "Nucky Thompson"],
    answer: "Don Draper",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TELEVISION",
    difficulty: "MEDIUM",
    lastUsed: "2025-06-17T22:24:40.553Z",
    modePosition: "TELEVISION_MEDIUM_MCQ",
    modeLastUsed: "TELEVISION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:23.413Z",
    updatedAt: "2025-06-25T23:59:25.969Z",
    __typename: "Question",
  },
  {
    id: "7e1631e6-c5fb-499e-a707-9f2c0d2c27b1",
    position: 3,
    question: "Which two FBI agents does 'The X-Files' primarily follow?",
    picture: null,
    options: ["Holmes and Watson", "Starsky and Hutch", "Cagney and Lacey"],
    answer: "Mulder and Scully",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TELEVISION",
    difficulty: "MEDIUM",
    lastUsed: "2024-11-20T06:45:06.139Z",
    modePosition: "TELEVISION_MEDIUM_MCQ",
    modeLastUsed: "TELEVISION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:23.186Z",
    updatedAt: "2025-05-31T18:38:23.186Z",
    __typename: "Question",
  },
  {
    id: "243cc8cb-9d30-4c90-b35f-b2f6157fcb71",
    position: 5,
    question: "What aircraft model is registered as SE-DOR?",
    picture: null,
    options: ["Airbus A320-200", "Embraer E190", "Boeing 747-400"],
    answer: "Boeing 737-683",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "HARD",
    lastUsed: "2025-03-01T03:30:54.473Z",
    modePosition: "TRANSPORTATION_HARD_MCQ",
    modeLastUsed: "TRANSPORTATION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:28.213Z",
    updatedAt: "2025-05-31T18:38:28.213Z",
    __typename: "Question",
  },
  {
    id: "796c794b-529c-4adb-a0a4-69dc80aba30b",
    position: 4,
    question: "Which was the first ship to navigate the Northwest Passage?",
    picture: null,
    options: ["Endurance", "Beagle", "Cutty Sark"],
    answer: "Gjøa",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "HARD",
    lastUsed: "2024-10-17T15:12:31.051Z",
    modePosition: "TRANSPORTATION_HARD_MCQ",
    modeLastUsed: "TRANSPORTATION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:27.939Z",
    updatedAt: "2025-05-31T18:38:27.939Z",
    __typename: "Question",
  },
  {
    id: "65b27ad6-e69e-4bc7-ad37-bfe007c4c04e",
    position: 3,
    question: "What is the maximum cargo capacity of the Antonov An-225?",
    picture: null,
    options: ["~150 tons", "~300 tons", "~100 tons"],
    answer: "~250 tons",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "HARD",
    lastUsed: "2024-12-05T11:53:35.564Z",
    modePosition: "TRANSPORTATION_HARD_MCQ",
    modeLastUsed: "TRANSPORTATION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:27.618Z",
    updatedAt: "2025-05-31T18:38:27.618Z",
    __typename: "Question",
  },
  {
    id: "5ebdc1f2-54f5-4501-8e00-5daa0400fed6",
    position: 2,
    question: "Which ship holds the record for the largest container capacity?",
    picture: null,
    options: ["MSC Gülsün", "Madrid Maersk", "Emma Mærsk"],
    answer: "Ever Ace",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "HARD",
    lastUsed: "2024-08-31T09:43:59.393Z",
    modePosition: "TRANSPORTATION_HARD_MCQ",
    modeLastUsed: "TRANSPORTATION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:27.319Z",
    updatedAt: "2025-05-31T18:38:27.319Z",
    __typename: "Question",
  },
  {
    id: "4603fbcb-6c81-4a5f-878f-30f29a51957d",
    position: 1,
    question: "Which vehicle uses a cycloidal rotor for propulsion?",
    picture: null,
    options: ["Jet engine", "Screw propeller", "Paddle wheel"],
    answer: "Voith-Schneider propeller",
    timer: 15,
    score: 3,
    coins: 8,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "HARD",
    lastUsed: "2024-11-21T03:00:48.578Z",
    modePosition: "TRANSPORTATION_HARD_MCQ",
    modeLastUsed: "TRANSPORTATION_HARD_MCQ",
    createdAt: "2025-05-31T18:38:27.089Z",
    updatedAt: "2025-05-31T18:38:27.089Z",
    __typename: "Question",
  },
  {
    id: "ea13279d-1612-4c46-aae1-652038c231b6",
    position: 5,
    question: "Which mode of transport can travel on both rails and roads?",
    picture: null,
    options: ["Bus", "Plane", "Bicycle"],
    answer: "Tram",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "MEDIUM",
    lastUsed: "2025-03-24T02:39:20.631Z",
    modePosition: "TRANSPORTATION_MEDIUM_MCQ",
    modeLastUsed: "TRANSPORTATION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:26.881Z",
    updatedAt: "2025-05-31T18:38:26.881Z",
    __typename: "Question",
  },
  {
    id: "0ea000ad-e2d0-44a5-a0da-4076b7f19a14",
    position: 4,
    question: "What type of boat is used for fishing?",
    picture: null,
    options: ["Yacht", "Canoe", "Cruiser"],
    answer: "Trawler",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "MEDIUM",
    lastUsed: "2024-11-13T14:53:35.522Z",
    modePosition: "TRANSPORTATION_MEDIUM_MCQ",
    modeLastUsed: "TRANSPORTATION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:26.557Z",
    updatedAt: "2025-05-31T18:38:26.557Z",
    __typename: "Question",
  },
  {
    id: "2e3a10ad-af39-472e-adfc-ba819ee6e216",
    position: 3,
    question:
      "Which type of vehicle, typically operating on tracks, carries goods?",
    picture: null,
    options: ["Cargo plane", "Delivery truck", "Ferry boat"],
    answer: "Freight train",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "MEDIUM",
    lastUsed: "2024-10-04T18:02:53.102Z",
    modePosition: "TRANSPORTATION_MEDIUM_MCQ",
    modeLastUsed: "TRANSPORTATION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:26.273Z",
    updatedAt: "2025-05-31T18:38:26.273Z",
    __typename: "Question",
  },
  {
    id: "26ca2882-4403-4029-8751-0c98fa41a3f0",
    position: 2,
    question:
      "Which mode of transportation can hover above the ground using magnets?",
    picture: null,
    options: ["Jet ski", "Hot air balloon", "Bicycle"],
    answer: "Maglev train",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "MEDIUM",
    lastUsed: "2024-09-21T06:56:16.859Z",
    modePosition: "TRANSPORTATION_MEDIUM_MCQ",
    modeLastUsed: "TRANSPORTATION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:25.985Z",
    updatedAt: "2025-05-31T18:38:25.985Z",
    __typename: "Question",
  },
  {
    id: "b733eaf3-2c5b-4db1-aee8-0df5ea31ab56",
    position: 1,
    question: "Which transportation system runs on overhead wires in cities?",
    picture: null,
    options: ["Subway", "Monorail", "Taxi"],
    answer: "Trolleybus",
    timer: 12,
    score: 2,
    coins: 5,
    type: "MCQ",
    category: "TRANSPORTATION",
    difficulty: "MEDIUM",
    lastUsed: "2025-02-05T14:32:37.134Z",
    modePosition: "TRANSPORTATION_MEDIUM_MCQ",
    modeLastUsed: "TRANSPORTATION_MEDIUM_MCQ",
    createdAt: "2025-05-31T18:38:25.716Z",
    updatedAt: "2025-05-31T18:38:25.716Z",
    __typename: "Question",
  },
];

const CategoryEnum = [
  "ANIMALS",
  "ART",
  "BUSINESS",
  "CELEBRITIES",
  "COUNTRY",
  "CULTURES",
  "FOOD_AND_DRINKS",
  "FASHION",
  "GENERAL_KNOWLEDGE",
  "GEOGRAPHY",
  "HISTORY",
  "HOBBIES",
  "LANGUAGE",
  "LAW_AND_CRIMES",
  "LITERATURE",
  "MATHEMATICS",
  "MOVIES",
  "MUSIC",
  "MYTHOLOGY_RELIGION",
  "POLITICS",
  "POPTRIFIA",
  "SCIENCE",
  "SPACE_AND_ASTRONOMY",
  "SPORTS",
  "TECHNOLOGY",
  "TELEVISION",
  "TOYS_AND_GAMES",
  "TRANSPORTATION",
];

const DifficultyEnum = ["EASY", "MEDIUM", "HARD"];

const categoryOptions = CategoryEnum;
const difficultyOptions = DifficultyEnum;

const QuestionTableWithFilter = () => {
  const [category, setCategory] = useState<string | null>(null);
  const [difficulty, setDifficulty] = useState<string | null>(null);

  const filteredData = useMemo(() => {
    return QUESTION_DATA.filter(
      (q) =>
        (!category || q.category === category) &&
        (!difficulty || q.difficulty === difficulty)
    );
  }, [category, difficulty]);

  return (
    <div className="p-6">
      <QuestionPanel
        categoryOptions={categoryOptions}
        difficultyOptions={difficultyOptions}
        category={category || ""}
        setCategory={setCategory}
        difficulty={difficulty || ""}
        setDifficulty={setDifficulty}
      />

      <QuestionTable data={filteredData} />
    </div>
  );
};

export default QuestionTableWithFilter;
